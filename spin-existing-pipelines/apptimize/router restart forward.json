{"application": "apptimize", "description": "Details about description with example configs", "expectedArtifacts": [], "id": "35c3147e-976b-4fd4-9897-363ebd71737f", "index": 10, "keepWaitingPipelines": false, "lastModifiedBy": "yinmeng.zhang@airship.com", "limitConcurrent": false, "name": "router restart forward", "notifications": [{"address": "test-spinnaker", "level": "pipeline", "type": "slack", "when": ["pipeline.complete", "pipeline.starting", "pipeline.failed"]}], "parameterConfig": [{"default": "apptimize-prod", "description": "", "hasOptions": true, "label": "project", "name": "project", "options": [{"value": "apptimize-stag"}, {"value": "apptimize-eucs"}, {"value": "apptimize-prod"}], "pinned": true, "required": true}, {"default": "apptimize-backend-router-1", "description": "Currently this pipeline only applies to router; some variables are hardcoded to router values", "hasOptions": true, "label": "service", "name": "service", "options": [{"value": "apptimize-backend-router-1"}], "pinned": false, "required": true}], "schema": "1", "spelEvaluator": "v4", "stages": [{"account": "gcb-account", "application": "apptimize", "buildDefinition": {"options": {"substitutionOption": "ALLOW_LOOSE"}, "steps": [{"args": ["-c", "igm=\"${_SERVICE}-igm\"\n\nif [[ ${_PROJECT} == 'apptimize-eucs' ]]; then\n  region=\"europe-west1\"\nelse\n  region=\"us-east1\"\nfi\n\ninstance_template=` \\\ngcloud compute instance-groups managed describe \\\n$igm --region=$region --project=${_PROJECT} \\\n--format=\"value(instanceTemplate)\"`\n\necho \"updating to\" $instance_template\n\ngcloud compute instance-groups managed \\\nrolling-action start-update \\\n$igm --region=$region --project=${_PROJECT} \\\n--version template=$instance_template\n"], "entrypoint": "bash", "id": "echo lol", "name": "gcr.io/ua-ops-artifacts/spinnaker-gcloud"}], "substitutions": {"_PROJECT": "${parameters[\"project\"]}", "_SERVICE": "${parameters[\"service\"]}"}, "timeout": "3600s"}, "buildDefinitionSource": "text", "completeOtherBranchesThenFail": false, "continuePipeline": true, "failPipeline": false, "name": "echo hello", "refId": "15", "requisiteStageRefIds": [], "type": "googleCloudBuild"}], "triggers": [{"cronExpression": "0 0 0 ? * SUN *", "enabled": true, "id": "33344122-2b18-45e3-89e3-850bd77c7104", "type": "cron"}], "updateTs": "1681257690190"}