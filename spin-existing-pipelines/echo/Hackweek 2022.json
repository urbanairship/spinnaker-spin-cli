{"appConfig": {}, "application": "echo", "expectedArtifacts": [], "expressionEvaluationSummary": {"--env=project=_PROJECT,deployment=_NAME": [{"description": "Failed to evaluate --env=project=${_PROJECT},deployment=${_NAME} : --env=project=_PROJECT,deployment=_NAME not found", "level": "INFO", "timestamp": 1668648357833}], "--log-level=_CHOOCHER_LOG_LEVEL": [{"description": "Failed to evaluate --log-level=${_CHOOCHER_LOG_LEVEL} : --log-level=_CHOOCHER_LOG_LEVEL not found", "level": "INFO", "timestamp": 1668648357833}], "--project=_PROJECT": [{"description": "Failed to evaluate --project=${_PROJECT} : --project=_PROJECT not found", "level": "INFO", "timestamp": 1668648357832}], "./update_ig.py --method single --project _PROJECT --region _REGION --group _NAME-igm\n": [{"description": "Failed to evaluate ./update_ig.py --method single --project ${_PROJECT} --region ${_REGION} --group ${_NAME}-igm\n : ./update_ig.py --method single --project _PROJECT --region _REGION --group _NAME-igm\n not found", "level": "INFO", "timestamp": 1668648357840}], "<ul>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/compute/instanceGroups/details/europe-west1/templateVariables.deployment-igm?project=templateVariables.eucsProject&amp;organizationId=272278969548\">Instance Group Dashboard</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=templateVariables.eucsProject&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22templateVariables.deployment-instance%22\">Instance Group Logs</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=templateVariables.eucsProject&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22templateVariables.deployment-instance%22%0AjsonPayload.serviceContext.version%3A%22parameters[\"tag\"]%22\">Instance Group Logs (just version parameters[\"tag\"])</a></li>\n    <li><a target=\"_blank\" href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&project=templateVariables.eucsProject&organizationId=272278969548&minLogLevel=0&expandAll=false&advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22:%22templateVariables.deployment-instance%22%0AjsonPayload.CONTAINER_NAME%3D%22templateVariables.deployment.toString().replaceAll(\"-\\d\", \"\")%22\">Container Logs</a></li>\n      <li><a target=\"_blank\" href=\"https://console.cloud.google.com/errors?service=templateVariables.deployment.toString().replaceAll(\"-\\d\", \"\")&time=PT6H&order=COUNT_DESC&project=templateVariables.eucsProject\">Error Reporting</a></li></ul>": [{"description": "Failed to evaluate [comments] : <ul>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/compute/instanceGroups/details/europe-west1/templateVariables.deployment-igm?project=templateVariables.eucsProject&amp;organizationId=272278969548\">Instance Group Dashboard</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=templateVariables.eucsProject&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22templateVariables.deployment-instance%22\">Instance Group Logs</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=templateVariables.eucsProject&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22templateVariables.deployment-instance%22%0AjsonPayload.serviceContext.version%3A%22parameters[\"tag\"]%22\">Instance Group Logs (just version parameters[\"tag\"])</a></li>\n    <li><a target=\"_blank\" href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&project=templateVariables.eucsProject&organizationId=272278969548&minLogLevel=0&expandAll=false&advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22:%22templateVariables.deployment-instance%22%0AjsonPayload.CONTAINER_NAME%3D%22templateVariables.deployment.toString().replaceAll(\"-\\d\", \"\")%22\">Container Logs</a></li>\n      <li><a target=\"_blank\" href=\"https://console.cloud.google.com/errors?service=templateVariables.deployment.toString().replaceAll(\"-\\d\", \"\")&time=PT6H&order=COUNT_DESC&project=templateVariables.eucsProject\">Error Reporting</a></li></ul> not found", "level": "INFO", "timestamp": 1668648357841}], "<ul>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/compute/instanceGroups/details/us-east1/templateVariables.deployment-igm?project=templateVariables.prodProject&amp;organizationId=272278969548\">Instance Group Dashboard</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=templateVariables.prodProject&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22templateVariables.deployment-instance%22\">Instance Group Logs</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=templateVariables.prodProject&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22templateVariables.deployment-instance%22%0AjsonPayload.serviceContext.version%3A%22parameters[\"tag\"]%22\">Instance Group Logs (just version parameters[\"tag\"])</a></li>\n    <li><a target=\"_blank\" href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&project=templateVariables.prodProject&organizationId=272278969548&minLogLevel=0&expandAll=false&advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22:%22templateVariables.deployment-instance%22%0AjsonPayload.CONTAINER_NAME%3D%22templateVariables.deployment.toString().replaceAll(\"-\\d\", \"\")%22\">Container Logs</a></li>\n      <li><a target=\"_blank\" href=\"https://console.cloud.google.com/errors?service=templateVariables.deployment.toString().replaceAll(\"-\\d\", \"\")&time=PT6H&order=COUNT_DESC&project=templateVariables.prodProject\">Error Reporting</a></li></ul>": [{"description": "Failed to evaluate [comments] : <ul>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/compute/instanceGroups/details/us-east1/templateVariables.deployment-igm?project=templateVariables.prodProject&amp;organizationId=272278969548\">Instance Group Dashboard</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=templateVariables.prodProject&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22templateVariables.deployment-instance%22\">Instance Group Logs</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=templateVariables.prodProject&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22templateVariables.deployment-instance%22%0AjsonPayload.serviceContext.version%3A%22parameters[\"tag\"]%22\">Instance Group Logs (just version parameters[\"tag\"])</a></li>\n    <li><a target=\"_blank\" href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&project=templateVariables.prodProject&organizationId=272278969548&minLogLevel=0&expandAll=false&advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22:%22templateVariables.deployment-instance%22%0AjsonPayload.CONTAINER_NAME%3D%22templateVariables.deployment.toString().replaceAll(\"-\\d\", \"\")%22\">Container Logs</a></li>\n      <li><a target=\"_blank\" href=\"https://console.cloud.google.com/errors?service=templateVariables.deployment.toString().replaceAll(\"-\\d\", \"\")&time=PT6H&order=COUNT_DESC&project=templateVariables.prodProject\">Error Reporting</a></li></ul> not found", "level": "INFO", "timestamp": 1668648357839}], "<ul>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/compute/instanceGroups/details/us-east1/templateVariables.deployment-igm?project=templateVariables.stagProject&amp;organizationId=272278969548\">Instance Group Dashboard</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=templateVariables.stagProject&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22templateVariables.deployment-instance%22\">Instance Group Logs</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=templateVariables.stagProject&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22templateVariables.deployment-instance%22%0AjsonPayload.serviceContext.version%3A%22parameters[\"tag\"]%22\">Instance Group Logs (just version parameters[\"tag\"])</a></li>\n    <li><a target=\"_blank\" href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&project=templateVariables.stagProject&organizationId=272278969548&minLogLevel=0&expandAll=false&advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22:%22templateVariables.deployment-instance%22%0AjsonPayload.CONTAINER_NAME%3D%22templateVariables.deployment.toString().replaceAll(\"-\\d\", \"\")%22\">Container Logs</a></li>\n      <li><a target=\"_blank\" href=\"https://console.cloud.google.com/errors?service=templateVariables.deployment.toString().replaceAll(\"-\\d\", \"\")&time=PT6H&order=COUNT_DESC&project=templateVariables.stagProject\">Error Reporting</a></li></ul>": [{"description": "Failed to evaluate [comments] : <ul>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/compute/instanceGroups/details/us-east1/templateVariables.deployment-igm?project=templateVariables.stagProject&amp;organizationId=272278969548\">Instance Group Dashboard</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=templateVariables.stagProject&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22templateVariables.deployment-instance%22\">Instance Group Logs</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=templateVariables.stagProject&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22templateVariables.deployment-instance%22%0AjsonPayload.serviceContext.version%3A%22parameters[\"tag\"]%22\">Instance Group Logs (just version parameters[\"tag\"])</a></li>\n    <li><a target=\"_blank\" href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&project=templateVariables.stagProject&organizationId=272278969548&minLogLevel=0&expandAll=false&advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22:%22templateVariables.deployment-instance%22%0AjsonPayload.CONTAINER_NAME%3D%22templateVariables.deployment.toString().replaceAll(\"-\\d\", \"\")%22\">Container Logs</a></li>\n      <li><a target=\"_blank\" href=\"https://console.cloud.google.com/errors?service=templateVariables.deployment.toString().replaceAll(\"-\\d\", \"\")&time=PT6H&order=COUNT_DESC&project=templateVariables.stagProject\">Error Reporting</a></li></ul> not found", "level": "INFO", "timestamp": 1668648357832}], "_NAME": [{"description": "Failed to evaluate ${_NAME} : _NAME not found", "level": "INFO", "timestamp": 1668648357833}], "echo \"GCP DEPLOY:\"\necho \"- DEPLOY: _NAME\"\necho \"- PROJECT: _PROJECT\"\necho \"CHOOCHER:\"\necho \"- VERSION: _CHOOCHER_VER\"\necho \"- LOG_LEVEL: _CHOOCHER_LOG_LEVEL\"\n": [{"description": "Failed to evaluate echo \"GCP DEPLOY:\"\necho \"- DEPLOY: ${_NAME}\"\necho \"- PROJECT: ${_PROJECT}\"\necho \"CHOOCHER:\"\necho \"- VERSION: ${_CHOOCHER_VER}\"\necho \"- LOG_LEVEL: ${_CHOOCHER_LOG_LEVEL}\"\n : echo \"GCP DEPLOY:\"\necho \"- DEPLOY: _NAME\"\necho \"- PROJECT: _PROJECT\"\necho \"CHOOCHER:\"\necho \"- VERSION: _CHOOCHER_VER\"\necho \"- LOG_LEVEL: _CHOOCHER_LOG_LEVEL\"\n not found", "level": "INFO", "timestamp": 1668648357832}], "gcloud secrets versions access latest --secret=_SECRET --project=ua-ops-secrets > /root/.ssh/id_rsa": [{"description": "Failed to evaluate gcloud secrets versions access latest --secret=${_SECRET} --project=ua-ops-secrets > /root/.ssh/id_rsa : gcloud secrets versions access latest --secret=_SECRET --project=ua-ops-secrets > /root/.ssh/id_rsa not found", "level": "INFO", "timestamp": 1668648357831}], "gcr.io/ua-ops-artifacts/choocher:_CHOOCHER_VER": [{"description": "Failed to evaluate [name] : gcr.io/ua-ops-artifacts/choocher:_CHOOCHER_VER not found", "level": "INFO", "timestamp": 1668648357832}], "python3 check_tags_exist.py --deployment _NAME\n": [{"description": "Failed to evaluate python3 check_tags_exist.py --deployment ${_NAME}\n : python3 check_tags_exist.py --deployment _NAME\n not found", "level": "INFO", "timestamp": 1668648357833}], "python3 tools/rolling_deploy.py -d _DEPLOYMENT -p _PROJECT -r _REGION -m _MIN_READY\n": [{"description": "Failed to evaluate python3 tools/rolling_deploy.py -d ${_DEPLOYMENT} -p ${_PROJECT} -r ${_REGION} -m ${_MIN_READY}\n : python3 tools/rolling_deploy.py -d _DEPLOYMENT -p _PROJECT -r _REGION -m _MIN_READY\n not found", "level": "INFO", "timestamp": 1668648357836}], "python3 version.py --deployment _NAME --tag parameters[\"tag\"]\n": [{"description": "Failed to evaluate python3 version.py --deployment ${_NAME} --tag ${parameters[\"tag\"]}\n : python3 version.py --deployment _NAME --tag parameters[\"tag\"]\n not found", "level": "INFO", "timestamp": 1668648357832}], "trigger['user']": [{"description": "Failed to evaluate [address] EL1012E: Cannot index into a null value", "exceptionType": "org.springframework.expression.spel.SpelEvaluationException", "level": "ERROR", "timestamp": 1668648357836}]}, "id": "6cdbc835-3f69-4e7f-9091-45d3ba8f20b6", "index": 15, "keepWaitingPipelines": false, "lastModifiedBy": "andy.quick@airship.com", "limitConcurrent": true, "name": "Hackweek 2022", "notifications": [], "parameterConfig": [{"default": "", "description": "Docker image", "hasOptions": false, "inherited": false, "label": "image", "name": "image", "options": [{"value": ""}], "pinned": true, "required": true}], "schema": "1", "source": {"type": "templatedPipeline", "version": "v2"}, "stages": [{"account": "gcb-account", "application": "echo", "buildDefinition": {"options": {"substitutionOption": "ALLOW_LOOSE"}, "steps": [{"args": ["-c", "gcloud secrets versions access latest --secret=${_SECRET} --project=ua-ops-secrets > /root/.ssh/id_rsa"], "entrypoint": "bash", "id": "Get github credentials", "name": "gcr.io/ua-ops-artifacts/spinnaker-gcloud", "volumes": [{"name": "ssh", "path": "/root/.ssh"}]}, {"args": ["-c", "chmod 600 /root/.ssh/id_rsa\ncat <<EOF >/root/.ssh/config\nHostname github.com\nIdentityFile /root/.ssh/id_rsa\nEOF\nssh-keyscan -t rsa github.com > /root/.ssh/known_hosts\n"], "entrypoint": "bash", "id": "Setup Github config", "name": "gcr.io/ua-ops-artifacts/spinnaker-gcloud", "volumes": [{"name": "ssh", "path": "/root/.ssh"}]}, {"args": ["clone", "-b", "hackweek-2022", "--single-branch", "git@github.com:urbanairship/terraform-infrastructure", "./"], "entrypoint": "git", "id": "Clone terraform-infrastructure", "name": "gcr.io/ua-ops-artifacts/spinnaker-gcloud", "volumes": [{"name": "ssh", "path": "/root/.ssh"}]}, {"args": ["-c", "pip3 install google-cloud-storage\npip3 install google-cloud-compute\npython3 ci/instance_template/build_instance_template.py -i ${parameters[\"image\"]} -p ${_PROJECT} -s ${_SERVICE}\n"], "entrypoint": "bash", "id": "Create instance template", "name": "gcr.io/google.com/cloudsdktool/cloud-sdk:slim"}], "substitutions": {"_PROJECT": "ua-ops-hackweek-2022", "_SECRET": "spinnaker-ua-ops-deploy-infra-source-password", "_SERVICE": "echo2"}, "timeout": "1800s"}, "buildDefinitionSource": "text", "name": "Create template", "notifications": [], "refId": "1", "requisiteStageRefIds": [], "type": "googleCloudBuild"}, {"account": "gcb-account", "application": "echo", "buildDefinition": {"steps": [{"args": ["-c", "gcloud secrets versions access latest --secret=${_SECRET} --project=ua-ops-secrets > /root/.ssh/id_rsa"], "entrypoint": "bash", "id": "Get github credentials", "name": "gcr.io/ua-ops-artifacts/spinnaker-gcloud", "volumes": [{"name": "ssh", "path": "/root/.ssh"}]}, {"args": ["-c", "chmod 600 /root/.ssh/id_rsa\ncat <<EOF >/root/.ssh/config\nHostname github.com\nIdentityFile /root/.ssh/id_rsa\nEOF\nssh-keyscan -t rsa github.com > /root/.ssh/known_hosts\n"], "entrypoint": "bash", "id": "Setup Github config", "name": "gcr.io/ua-ops-artifacts/spinnaker-gcloud", "volumes": [{"name": "ssh", "path": "/root/.ssh"}]}, {"args": ["clone", "-b", "hackwee-2022", "--single-branch", "git@github.com:urbanairship/gcp-infrastructure", "./"], "entrypoint": "git", "id": "Clone terraform-infrastructure", "name": "gcr.io/ua-ops-artifacts/spinnaker-gcloud", "volumes": [{"name": "ssh", "path": "/root/.ssh"}]}, {"args": ["-c", "python3 tools/rolling_deploy.py -d ${_DEPLOYMENT} -p ${_PROJECT} -r ${_REGION} -s 3 -u 0 --igm echo2\n"], "entrypoint": "bash", "id": "Rolling Update", "name": "gcr.io/ua-ops-artifacts/spinnaker-gcloud"}], "substitutions": {"_DEPLOYMENT": "echo2", "_PROJECT": "ua-ops-hackweek-2022", "_REGION": "us-east1", "_SECRET": "spinnaker-ua-ops-deploy-infra-source-password"}, "timeout": "3600s"}, "buildDefinitionSource": "text", "comments": "<ul>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/compute/instanceGroups/details/us-east1/echo-1-igm?project=ua-ops-transitional-stag&amp;organizationId=272278969548\">Instance Group Dashboard</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=ua-ops-transitional-stag&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22echo-1-instance%22\">Instance Group Logs</a></li>\n      <li><a target=\"_blank\"  href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&amp;project=ua-ops-transitional-stag&amp;organizationId=272278969548&amp;minLogLevel=0&amp;expandAll=false&amp;advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22%3A%22echo-1-instance%22%0AjsonPayload.serviceContext.version%3A%22${parameters[\"tag\"]}%22\">Instance Group Logs (just version ${parameters[\"tag\"]})</a></li>\n    <li><a target=\"_blank\" href=\"https://console.cloud.google.com/logs/viewer?resource=gce_instance&project=ua-ops-transitional-stag&organizationId=272278969548&minLogLevel=0&expandAll=false&advancedFilter=resource.type%3D%22gce_instance%22%0Alabels.%22compute.googleapis.com%2Fresource_name%22:%22echo-1-instance%22%0AjsonPayload.CONTAINER_NAME%3D%22echo%22\">Container Logs</a></li>\n      <li><a target=\"_blank\" href=\"https://console.cloud.google.com/errors?service=echo&time=PT6H&order=COUNT_DESC&project=ua-ops-transitional-stag\">Error Reporting</a></li></ul>", "name": "Update instances", "notifications": [], "refId": "3", "requisiteStageRefIds": ["5"], "type": "googleCloudBuild"}, {"account": "gcb-account", "application": "echo", "buildDefinition": {"steps": [{"args": ["-c", "gcloud secrets versions access latest --secret=${_SECRET} --project=ua-ops-secrets > /root/.ssh/id_rsa"], "entrypoint": "bash", "id": "Get github credentials", "name": "gcr.io/ua-ops-artifacts/spinnaker-gcloud", "volumes": [{"name": "ssh", "path": "/root/.ssh"}]}, {"args": ["-c", "chmod 600 /root/.ssh/id_rsa\ncat <<EOF >/root/.ssh/config\nHostname github.com\nIdentityFile /root/.ssh/id_rsa\nEOF\nssh-keyscan -t rsa github.com > /root/.ssh/known_hosts\n"], "entrypoint": "bash", "id": "Setup Github config", "name": "gcr.io/ua-ops-artifacts/spinnaker-gcloud", "volumes": [{"name": "ssh", "path": "/root/.ssh"}]}, {"args": ["clone", "-b", "hackwee-2022", "--single-branch", "git@github.com:urbanairship/gcp-infrastructure", "./"], "entrypoint": "git", "id": "Clone terraform-infrastructure", "name": "gcr.io/ua-ops-artifacts/spinnaker-gcloud", "volumes": [{"name": "ssh", "path": "/root/.ssh"}]}, {"args": ["-c", "python3 tools/rolling_deploy.py -d ${_DEPLOYMENT} -p ${_PROJECT} -r ${_REGION} -s 3 -u 0 --igm echo2 --canary true\n"], "entrypoint": "bash", "id": "Rolling Update", "name": "gcr.io/ua-ops-artifacts/spinnaker-gcloud"}], "substitutions": {"_DEPLOYMENT": "echo2", "_PROJECT": "ua-ops-hackweek-2022", "_REGION": "us-east1", "_SECRET": "spinnaker-ua-ops-deploy-infra-source-password"}, "timeout": "3600s"}, "buildDefinitionSource": "text", "name": "Canary", "refId": "4", "requisiteStageRefIds": ["1"], "type": "googleCloudBuild"}, {"failPipeline": true, "judgmentInputs": [], "name": "Manual Judgment", "notifications": [], "refId": "5", "requisiteStageRefIds": ["4"], "type": "manualJudgment"}], "templateVariables": {"deployment": "echo-1", "eucsProject": "ua-ops-transitional-eucs", "minReady": "0s", "prodProject": "ua-ops-transitional-prod", "stagProject": "ua-ops-transitional-stag"}, "triggers": [], "updateTs": "1668720040091"}